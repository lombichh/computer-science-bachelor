<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="compito190107_files/filelist.xml">
<title>Documento senza titolo</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Utente</o:Author>
  <o:LastAuthor>Utente</o:LastAuthor>
  <o:Revision>10</o:Revision>
  <o:TotalTime>133</o:TotalTime>
  <o:Created>2007-01-08T14:45:00Z</o:Created>
  <o:LastSaved>2007-01-11T10:32:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>332</o:Words>
  <o:Characters>1895</o:Characters>
  <o:Company>DEIS</o:Company>
  <o:Lines>15</o:Lines>
  <o:Paragraphs>4</o:Paragraphs>
  <o:CharactersWithSpaces>2223</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>BestFit</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:HyphenationZone>14</w:HyphenationZone>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h2
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	font-size:18.0pt;
	font-family:"Times New Roman";}
h3
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	font-size:13.5pt;
	font-family:"Times New Roman";}
p.stile2, li.stile2, div.stile2
	{mso-style-name:stile2;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";}
p.stile4, li.stile4, div.stile4
	{mso-style-name:stile4;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:70.85pt 2.0cm 2.0cm 2.0cm;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
.Stile1 {
	font-family: Arial, Helvetica, sans-serif;
	font-size: 12pt;
}
.Stile2 {font-size: 12px}
.Stile4 {
	font-family: Arial, Helvetica, sans-serif;
	font-size: 12pt;
}
.Stile5 {font-size: 12pt; font-family: Arial, Helvetica, sans-serif; }
.Stile6 {font-family: "Courier New", Courier, monospace}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="4098"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white lang=IT style='tab-interval:35.4pt'>

<div class=Section1>

<h3 align=center style='text-align:center'><span style='font-family:Arial'>Sistemi
Operativi L-A <o:p></o:p></span></h3>

<h2 align=center style='text-align:center'><span style='font-family:Arial'>Compito
del 19 Gennaio 2007<o:p></o:p></span></h2>

<p class=stile2 align=center style='text-align:center'><span class=SpellE>CdS</span>
in Ingegneria Informatica - <span class=SpellE>Prof.</span> Paolo <span
class=GramE>Bellavista</span></p>

<p class=stile2 align=center style='text-align:center'>&nbsp;</p>

<p class=stile2 align=center style='text-align:center'><strong><span
style='font-family:Arial'>Parte di Programmazione di Sistema </span></strong>(16
punti<span class=GramE>)</span></p>

<p class=MsoNormal style='text-align:justify'><span style='font-family:Arial'>Si
scriva un programma C che, utilizzando <span class=GramE>le System</span> <span
class=SpellE>Call</span> del sistema operativo UNIX, abbia un&#8217;interfaccia
del tipo:<o:p></o:p></span></p>

<p class=MsoNormal><span style='font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center'><span class=SpellE><span
class=GramE><b style='mso-bidi-font-weight:normal'><span style='font-family:
"Courier New"'>telefonoSenzaFili</span></b></span></span><b style='mso-bidi-font-weight:
normal'><span style='font-family:"Courier New"'> <span class=SpellE>NomeFile</span>
Num1 Num2<o:p></o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span style='font-family:Arial'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span style='font-family:Arial'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'><span class=GramE><span
style='font-family:Arial'>dove</span></span><b style='mso-bidi-font-weight:
normal'><span style='font-family:Arial'> <span class=SpellE>NomeFile</span> </span></b><span
style='font-family:Arial'>&egrave;  un nome assoluto di file gi&agrave; esistente nel file
system e <b style='mso-bidi-font-weight:normal'>Num1</b>,<b style='mso-bidi-font-weight:
normal'> Num2 </b>sono numeri naturali minori di 10. Dopo aver <span
class=GramE>effettuato</span> gli opportuni controlli sugli argomenti, il
processo iniziale <b style='mso-bidi-font-weight:normal'>P0</b> deve generare
due processi, <b style='mso-bidi-font-weight:normal'>P1</b> e <b
style='mso-bidi-font-weight:normal'>P2</b>, entrambi figli di <b
style='mso-bidi-font-weight:normal'>P0</b>. 
<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span style='font-family:Arial'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='text-align:justify'><b style='mso-bidi-font-weight:
normal'><span style='font-family:Arial'>P0</span></b><span style='font-family:
Arial'> deve leggere il contenuto del file <span class=SpellE><b
style='mso-bidi-font-weight:normal'>NomeFile</b></span> e trasmetterlo a <b
style='mso-bidi-font-weight:normal'>P1</b>. <span class=GramE><b
style='mso-bidi-font-weight:normal'>P1</b> e <b style='mso-bidi-font-weight:
normal'>P2</b> devono &quot;giocare a telefono senza fili&quot;: <b
style='mso-bidi-font-weight:normal'>P1</b> deve fungere da filtro e trasferire
tutti i caratteri ricevuti a <b style='mso-bidi-font-weight:normal'>P2</b> <u>TRANNE</u>
i caratteri di posizione multipla di <b style='mso-bidi-font-weight:normal'>Num1</b>;
tali caratteri scartati devono essere scritti sul file <span class=SpellE>scartati.txt.</span>
<b style='mso-bidi-font-weight:normal'>P2</b> deve comportarsi analogamente,
considerando i caratteri comunicatigli da <b style='mso-bidi-font-weight:normal'>P1</b>,
eliminando quelli di posizione multipla di <b style='mso-bidi-font-weight:normal'>Num2</b>,
e rimandando i restanti indietro a <b style='mso-bidi-font-weight:normal'>P0</b>;
anche in questo caso i caratteri scartati devono essere scritti da <b
style='mso-bidi-font-weight:normal'>P2</b> su <span class=SpellE>scartati.txt.</span>
Al termine del <span class=SpellE>processamento</span> di tutto il contenuto di
<span class=SpellE><b style='mso-bidi-font-weight:normal'>NomeFile</b></span>
da parte dei tre processi, <b style='mso-bidi-font-weight:normal'>P0</b> deve
stampare a video la somma del numero di caratteri ricevuti da <b
style='mso-bidi-font-weight:normal'>P2</b> e dei caratteri presenti su
scartati.txt e verificare che questa coincida con la lunghezza originaria di <span
class=SpellE><b style='mso-bidi-font-weight:normal'>NomeFile</b></span>.</span>
<o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify'><span style='font-family:Arial'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-align:justify'><span class=GramE><span
style='font-family:Arial'>Nel caso in cui l'utente, in qualunque istante
durante l&#8217;esecuzione del programma concorrente, prema la combinazione di
tasti <b style='mso-bidi-font-weight:normal'>&lt;CTRL-C&gt;</b>, i processi <b
style='mso-bidi-font-weight:normal'>P1</b> e <b style='mso-bidi-font-weight:
normal'>P2</b> devono essere immediatamente terminati</span></span><span
style='font-family:Arial'>. In tal caso, il processo padre <b style='mso-bidi-font-weight:
normal'>P0</b> deve portare a termine da solo il lavoro, considerando i
caratteri <u>ancora non comunicati</u> prima della segnalazione utente: su tali
caratteri devono essere svolte le solite operazioni <span class=GramE>di </span>eliminazione
dei caratteri di posizione multipla di <b style='mso-bidi-font-weight:normal'>Num1</b>,<b
style='mso-bidi-font-weight:normal'> Num2</b> e di scrittura dei caratteri
scartati su <span class=SpellE>scartati.txt.</span> Ovviamente, in questo caso,
la somma finale calcolata da <b style='mso-bidi-font-weight:normal'>P0</b>
potr&agrave; differire dalla lunghezza originaria di <span class=SpellE><b
style='mso-bidi-font-weight:normal'>NomeFile</b></span>.
<o:p></o:p></span></p>

<p class=stile2>Si facciano le scelte di <span class=GramE>sincronizzazione</span>
dei processi ritenute pi&ugrave; opportune, cercando di <span class=SpellE>sequenzializzare</span>
il meno possibile le varie operazioni richieste.</p>

<p class=stile2 Stile1>&nbsp;</p>

<p align="center" class="Stile5"><strong>Parte Thread </strong>(8 punti)</p>

<p align="justify" class="Stile2">Si scriva un programma che utilizzi i Java Thread
per la gestione di code di vetture in attesa di essere aggiustate da un meccanico.</p>
<p align="justify" class="Stile2">Dal momento che il meccanico non ha aiutanti, una sola
vettura alla volta pu&ograve; essere aggiustata; le altre vengono parcheggiate in attesa
del proprio turno.
L'officina &egrave; dotata di un parcheggio stretto e lungo (largo tanto quanto basta ad 
ospitare una singola vettura), che termina contro un muretto, come mostrato in figura.  
<p align="center" class="Stile2">
  <img src="officina.jpg" alt="shell" width="290" height="250"></p>
<span class="Stile1">Dunque, l'unico varco disponibile funge sia da ingresso che da uscita per le auto. 
Risulta perci&ograve;  comodo al meccanico gestire le vetture secondo una politica <strong>LIFO</strong>: l'ultima auto che viene parcheggiata &egrave; anche la prima
ad essere aggiustata. 
Nel parcheggio possono stare solo <strong>PMAX</strong> vetture: i clienti che 
giungono quando il parcheggio &egrave; pieno vengono rifiutati (n.b. non si consideri l'auto che il meccanico 
sta aggiustando).<br>
</span>
<p align="justify" class="Stile1">I file allegati <a href="./es1/Launcher.java">Launcher.java</a> 
  e <a href="./es1/Vettura.java">Vettura.java</a> contengono le implementazioni, rispettivamente, 
  del programma principale e della classe Vettura. In particolare, il metodo 
	<span class="Stile6">run()</span> della classe Vettura cerca di accedere alla risorsa condivisa. Nel caso la vettura non sia accettata, viene stampato un messaggio di errore. Altrimenti (si noti che in questo secondo caso il metodo 
	<span class="Stile6">arrivo() </span>dovr&agrave; restituire il controllo solamente nel momento in cui la vettura ha terminato l'attesa in 
coda e pu&ograve; essere aggiustata dal meccanico), Vettura simula le operazioni del meccanico tramite un&#8217;attesa di alcuni secondi, dopo di che invoca il metodo
<span class="Stile6">uscita()</span> per liberare la risorsa.
Inoltre, il file <a href="./es1/Officina.java">Officina.java</a> contiene lo scheletro della classe Officina. </p>
<p align="justify" class="Stile1">I candidati implementino i metodi 
  mancanti <span class="Stile6">arrivo()</span> e <span class="Stile6">uscita()</span>  della classe Officina che servono a regolare l'accesso alla risorsa meccanico secondo 
  le specifiche di sincronizzazione sopra illustrate.</p>
</body>
</html>
</div>

</body>

</html>
